# 装饰器（Decorator）模式

## What

装饰器模式（Decorator Pattern）允许向一个现有的对象添加新的功能，同时又不改变其结构。这种类型的设计模式属于结构型模式，它是作为现有的类的一个包装。

## Why

一般的，我们为了扩展一个类经常使用继承方式实现，由于继承为类引入静态特征，并且随着扩展功能的增多，子类会很膨胀。

## When

不想生成增加很多子类（扩展一个类的功能，动态增加功能、动态撤销功能）

## How

划分具体职能，同时继承装饰器模式

## 优点

装饰类和被装饰类可以**独立发展**，**不会相互耦合**，装饰模式是继承的一个替代模式，装饰模式可以动态扩展一个实现类的功能。

## 缺点

多层装饰比较复杂

## 核心角色

- 抽象组件（Component）：定义了原始对象和装饰器对象的公共接口或抽象类，可以是具体组件类的父类或接口。
- 具体组件（Concrete Component）：是被装饰的原始对象，它定义了需要添加新功能的对象。
- 抽象装饰器（Decorator）：继承自抽象组件，它包含了一个抽象组件对象，并定义了与抽象组件相同的接口，同时可以通过组合方式持有其他装饰器对象。
- 具体装饰器（Concrete Decorator）：实现了抽象装饰器的接口，负责向抽象组件添加新的功能。具体装饰器通常会在调用原始对象的方法之前或之后执行自己的操作。